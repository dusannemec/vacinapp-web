(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{419:function(e,t,a){},438:function(e,t,a){},447:function(e,t,a){},684:function(e,t,a){},686:function(e,t,a){},687:function(e,t,a){},704:function(e,t,a){},705:function(e,t,a){},706:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(15),o=a.n(r),s=(a(419),a(13)),i=a(45),l=Object(n.createContext)({token:null,setToken:function(){}}),j=a(96);function u(e){var t={tipo:"enfermeiros",token:e};return j.post("https://us-central1-vacinapp-1.cloudfunctions.net/authServer/validation",t).then((function(e){return 200})).catch((function(e){return 403}))}a(438);var b=a(7);var O=function(e){e.alteraTabela;var t=Object(n.useContext)(l).token,a=Object(n.useState)(!1),c=Object(s.a)(a,2),r=c[0],o=c[1];return Object(n.useEffect)((function(){u(t).then((function(e){o(200===e)}))}),[t]),Object(b.jsx)(b.Fragment,{children:r?Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h1",{className:"page-header",children:"VacinApp"}),Object(b.jsx)("nav",{className:"navbar",children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"/vacinacao/cadastrar",children:Object(b.jsx)("button",{className:"item",children:"Vacinar"})})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"/pacientes",children:Object(b.jsx)("button",{className:"item",children:"Pacientes"})})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"/enfermeiros",children:Object(b.jsx)("button",{className:"item",children:"Enfermeiros(as)"})})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"/vacinas",children:Object(b.jsx)("button",{className:"item",children:"Vacinas"})})})]})})]}):void 0})},d=a(26),m=a(102),p=a(728),h=a(4),f=a(321),v=a(322),g=a(96);function x(e,t,a,n,c){var r={nome:e,email:t,coren:a,senha:n,admin:c};return g.post("https://us-central1-vacinapp-1.cloudfunctions.net/server/api/enfermeiros",r).then((function(e){return e})).catch((function(e){return e}))}function S(e,t,a){var n={};return g.get("https://us-central1-vacinapp-1.cloudfunctions.net/server/api/enfermeiros/".concat(e,"/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){return console.log(e),n={registros:Array.from(e.data)},console.log(n),n})).catch((function(e){return n={erro:e}}))}a(447);var N=a(395),C=a.n(N);function y(){return Object(b.jsx)(C.a,{type:"spinningBubbles",color:"#fff"})}var E=Object(h.a)({input:{borderRadius:10}})((function(e){var t=e.classes,a=Object(d.f)(),r=Object(n.useState)(""),o=Object(s.a)(r,2),i=o[0],j=o[1],O=Object(n.useState)(""),h=Object(s.a)(O,2),x=h[0],S=h[1],N=Object(n.useContext)(l),C=N.token,E=N.setToken,P=Object(n.useState)(!1),T=Object(s.a)(P,2),R=T[0],I=T[1],k=Object(n.useState)(!1),z=Object(s.a)(k,2),D=z[0],w=z[1],A=Object(m.a)({palette:{primary:{main:"#5CCFE6"}},spacing:8});return Object(n.useEffect)((function(){w(!0);u(C).then((function(e){w(!1),200===e&&a.push("/pacientes")}))}),[C]),Object(b.jsx)("div",{className:"container-login",children:D?Object(b.jsx)(y,{}):Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsx)("h2",{className:"titulo-login",children:"VacinApp"}),Object(b.jsx)(p.a,{theme:A,children:Object(b.jsxs)("form",{className:"formulario-login",onSubmit:function(e){e.preventDefault(),w(!0),function(e,t){var a={tipo:"enfermeiros",user:{coren:e,senha:t}};return g.post("https://us-central1-vacinapp-1.cloudfunctions.net/authServer/login",a).then((function(e){return e})).catch((function(e){return console.log(e),e}))}(i,x).then((function(e){var t=e.data;w(!1),console.log(t),E(t.accessToken),a.push("/pacientes")})).catch((function(e){w(!1),I(!0)}))},children:[R&&Object(b.jsx)("h3",{className:"erro",children:"E-mail/Senha inv\xe1lidos"}),Object(b.jsx)(f.a,{label:"COREN",id:"coren",variant:"outlined",margin:"normal",InputProps:{className:t.input},onChange:function(e){j(e.target.value)}}),Object(b.jsx)(f.a,{label:"Senha",id:"senha",variant:"outlined",margin:"normal",type:"password",style:{marginRight:12},InputProps:{className:t.input},fullWidth:!0,onChange:function(e){S(e.target.value)}}),Object(b.jsx)(v.a,{variant:"contained",color:"primary",size:"large",type:"submit",children:Object(b.jsx)("p",{className:"reset-a",children:"Login"})})]})})]})})})),P=a(398),T=a.n(P),R=a(239),I=a(360),k=a(401),z=a.n(k),D=a(400),w=a.n(D),A=a(241),B=a.n(A),q=y,M=(a(684),a(96));var F=function(e){var t=e.tabela,a=Object(d.f)(),c=Object(n.useState)([]),r=Object(s.a)(c,2),o=r[0],j=r[1],O=Object(n.useState)([]),h=Object(s.a)(O,2),f=h[0],v=h[1],g=Object(n.useState)(!1),x=Object(s.a)(g,2),S=x[0],N=x[1],C={nome:"Nome",cpf:"CPF",email:"E-mail",dataNasc:"Data de Nascimento",coren:"COREN",admin:"Administrador",doenca:"Doen\xe7a",fabricante:"Fabricante",dose:"Doses",lote:"Lote",quantidade:"Quantidade",prazoMaximoEntreDoses:"Prazo m\xe1ximo entre doses",tempoTotalProtecao:"Tempo total de prote\xe7\xe3o"},y=["_id","__v","refreshToken"],E=Object(n.useContext)(l).token,P={admin:{customBodyRender:function(e,t,a){return e?Object(b.jsx)(I.a,{title:"Sim",children:Object(b.jsx)(w.a,{color:"primary"})}):Object(b.jsx)(I.a,{title:"N\xe3o",children:Object(b.jsx)(B.a,{color:"secondary"})})}},acoes:{customBodyRender:function(){return Object(b.jsx)("button",{className:"botao",children:"Editar"})}}};Object(n.useEffect)((function(){u(E).then((function(e){403===e&&a.push("/")})),N(!0),M.get("https://us-central1-vacinapp-1.cloudfunctions.net/server/api/".concat(t),{headers:{Authorization:"Bearer ".concat(E)}}).then((function(e){v(Array.from(e.data)),k(Array.from(e.data)),N(!1)})).catch((function(e){console.log(e)}))}),[t]);var k=function(e){var a=[];if(e.length>0){for(var n=Object.keys(e[0]),c=0;c<n.length;c++){var r=n[c];y.includes(r)&&n.splice(c,1)}for(var o=0,s=n;o<s.length;o++){var i=s[o];a.push({name:i,label:C[i],options:P[i]})}"pacientes"!==t&&a.push({name:"acoes",label:"A\xe7\xf5es",options:P.acoes}),j(a)}},D={filter:!0,filterType:"dropdown",selectableRowsHideCheckboxes:!0,selectableRows:"single",responsive:"vertical",rowsPerPage:8,rowsPerPageOptions:[],customToolbarSelect:function(){},customToolbar:function(){if("pacientes"!==t)return Object(b.jsx)(I.a,{title:"Adicionar",children:Object(b.jsx)(i.b,{to:"/".concat(t,"/cadastrar"),children:Object(b.jsx)(R.a,{children:Object(b.jsx)(z.a,{})})})})}};return Object(b.jsx)("div",{className:"container-table",children:S?Object(b.jsx)(q,{}):Object(b.jsx)("div",{className:"sub-container-table",children:Object(b.jsx)(p.a,{theme:Object(m.a)({overrides:{MUIDataTable:{paper:{borderRadius:10,border:"none"}},MUIDataTableToolbarSelect:{root:{borderTopLeftRadius:10,borderTopRightRadius:10}}}}),children:Object(b.jsx)(T.a,{className:"table",title:t.charAt(0).toUpperCase()+t.slice(1),columns:o,data:f,options:D})})})})},V=a(60),L=a.n(V),W=a(84),J=a(6),Q=a(364),U=a(388);a(686);var _=Object(h.a)({input:{borderRadius:10}})((function(e){var t=e.classes,a=Object(d.f)(),r=Object(n.useContext)(l).token,o=Object(n.useState)(!1),i=Object(s.a)(o,2),j=i[0],O=i[1],h=Object(n.useState)(""),g=Object(s.a)(h,2),N=g[0],C=g[1],y=Object(n.useState)(""),E=Object(s.a)(y,2),P=E[0],T=E[1],R=Object(n.useState)(""),I=Object(s.a)(R,2),k=I[0],z=I[1],D=Object(n.useState)(""),w=Object(s.a)(D,2),A=w[0],B=w[1],M=Object(n.useState)(""),F=Object(s.a)(M,2),V=F[0],_=F[1],H=Object(n.useState)(!1),Z=Object(s.a)(H,2),$=Z[0],G=Z[1],K=Object(n.useState)(!1),X=Object(s.a)(K,2),Y=X[0],ee=X[1],te=Object(n.useState)({nome:!1,coren:!1,email:!1,senha:!1,confirmarSenha:!1}),ae=Object(s.a)(te,2),ne=ae[0],ce=ae[1],re=Object(n.useState)({nome:{value:!1,message:""},email:{value:!1,message:""},coren:{value:!1,message:""},senha:{value:!1,message:""},confirmarSenha:{value:!1,message:""}}),oe=Object(s.a)(re,2),se=oe[0],ie=oe[1];Object(n.useEffect)((function(){u(r).then((function(e){403===e&&a.push("/")}))}),[]);var le=function(e){for(var t=0,a=Object.entries(e);t<a.length;t++){var n=Object(s.a)(a[t],2);n[0];if(!n[1].value)return void ee(!1)}ee(!0)},je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.split(" ").length>=2?(ie(Object(J.a)(Object(J.a)({},se),{},{nome:{value:!0,message:""}})),le(Object(J.a)(Object(J.a)({},se),{},{nome:{value:!0,message:""}}))):(ie(Object(J.a)(Object(J.a)({},se),{},{nome:{value:!1,message:t}})),le(Object(J.a)(Object(J.a)({},se),{},{nome:{value:!1,message:t}})))},ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;a.test(e.toLowerCase())?S("email",e,r).then((function(e){var t;console.log(e);try{t=e.registros.length}catch(a){t=0}e.erros||0!==t?(ie(Object(J.a)(Object(J.a)({},se),{},{email:{value:!1,message:"E-mail j\xe1 cadastrado."}})),le(Object(J.a)(Object(J.a)({},se),{},{email:{value:!1,message:"E-mail j\xe1 cadastrado."}}))):(ie(Object(J.a)(Object(J.a)({},se),{},{email:{value:!0,message:""}})),le(Object(J.a)(Object(J.a)({},se),{},{email:{value:!0,message:""}})))})):(ie(Object(J.a)(Object(J.a)({},se),{},{email:{value:!1,message:t}})),le(Object(J.a)(Object(J.a)({},se),{},{email:{value:!1,message:t}})))},be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=/^([0-9]{3}\.?[0-9]{3}\.?[0-9]{3}-?[a-zA-Z]{2})$/;a.test(e.toUpperCase())&&2===e.split("-").length?S("coren",e,r).then((function(e){var t;try{t=e.registros.length}catch(a){t=0}e.erros||0!==t?(ie(Object(J.a)(Object(J.a)({},se),{},{coren:{value:!1,message:"COREN j\xe1 cadastrado."}})),le(Object(J.a)(Object(J.a)({},se),{},{coren:{value:!1,message:"COREN j\xe1 cadastrado."}}))):(ie(Object(J.a)(Object(J.a)({},se),{},{coren:{value:!0,message:""}})),le(Object(J.a)(Object(J.a)({},se),{},{coren:{value:!0,message:""}})))})):(ie(Object(J.a)(Object(J.a)({},se),{},{coren:{value:!1,message:t}})),le(Object(J.a)(Object(J.a)({},se),{},{coren:{value:!1,message:t}})))},Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.length>=5?(ie(Object(J.a)(Object(J.a)({},se),{},{senha:{value:!0,message:""}})),le(Object(J.a)(Object(J.a)({},se),{},{senha:{value:!0,message:""}}))):(ie(Object(J.a)(Object(J.a)({},se),{},{senha:{value:!1,message:t}})),le(Object(J.a)(Object(J.a)({},se),{},{senha:{value:!1,message:t}})))},de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e===A?(ie(Object(J.a)(Object(J.a)({},se),{},{confirmarSenha:{value:!0,message:""}})),le(Object(J.a)(Object(J.a)({},se),{},{confirmarSenha:{value:!0,message:""}}))):(ie(Object(J.a)(Object(J.a)({},se),{},{confirmarSenha:{value:!1,message:t}})),le(Object(J.a)(Object(J.a)({},se),{},{confirmarSenha:{value:!1,message:t}})))},me=Object(m.a)({palette:{primary:{main:"#5CCFE6"}},spacing:8});return Object(b.jsx)("div",{className:"container-cadastro",children:j?Object(b.jsx)(q,{}):Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsx)("h2",{className:"titulo-cadastro",children:"Cadastrar Enfermeiro"}),Object(b.jsx)(p.a,{theme:me,children:Object(b.jsxs)("form",{className:"formulario-cadastro",children:[Object(b.jsx)(f.a,{label:"Nome",id:"nome",helperText:se.nome.message,variant:"outlined",margin:"normal",error:ne.nome,InputProps:{className:t.input},onChange:function(e){var t=e.target.value.trim();C(t),je(t)},onBlur:function(){je(N,"\xc9 necess\xe1rio pelo menos um sobrenome."),ce(Object(J.a)(Object(J.a)({},ne),{},{nome:!se.nome.value}))}}),Object(b.jsx)(f.a,{label:"E-mail",id:"email",type:"email",helperText:se.email.message,variant:"outlined",margin:"normal",error:ne.email,InputProps:{className:t.input},onChange:function(e){var t=e.target.value.trim();console.log(t),T(t),ue(t)},onBlur:function(){ue(P,"E-mail inv\xe1lido."),ce(Object(J.a)(Object(J.a)({},ne),{},{email:!se.email.value}))}}),Object(b.jsx)(f.a,{label:"COREN",id:"coren",helperText:se.coren.message,error:ne.coren,variant:"outlined",margin:"normal",InputProps:{className:t.input},onChange:function(e){var t=e.target.value.trim();t.length>14&&(t=t.substring(0,8)),z(t),be(t)},onBlur:function(){be(k,"COREN inv\xe1lido! Siga o modelo: 000.000.000-SP."),ce(Object(J.a)(Object(J.a)({},ne),{},{coren:!se.coren.value}))}}),Object(b.jsxs)("div",{className:"senhas",children:[Object(b.jsx)(f.a,{label:"Senha",id:"senha",variant:"outlined",margin:"normal",type:"password",helperText:se.senha.message,error:ne.senha,style:{marginRight:12},InputProps:{className:t.input},fullWidth:!0,onChange:function(e){var t=e.target.value.trim();B(t),Oe(t)},onBlur:function(){Oe(A,"Senha deve conter pelo menos 5 caract\xe9res."),ce(Object(J.a)(Object(J.a)({},ne),{},{senha:!se.senha.value}))}}),Object(b.jsx)(f.a,{label:"Confirmar Senha",id:"confirmarSenha",variant:"outlined",margin:"normal",type:"password",helperText:se.confirmarSenha.message,error:ne.confirmarSenha,style:{marginLeft:12},InputProps:{className:t.input},fullWidth:!0,onChange:function(e){var t=e.target.value.trim();_(t),de(t)},onBlur:function(){de(V,"A confirma\xe7\xe3o da senha deve ser igual a senha."),ce(Object(J.a)(Object(J.a)({},ne),{},{confirmarSenha:!se.confirmarSenha.value}))}})]}),Object(b.jsx)(Q.a,{label:"Administrador",control:Object(b.jsx)(U.a,{color:"primary",onChange:function(e){G(e.target.checked)}})}),Object(b.jsx)(v.a,{disabled:!Y,variant:"contained",color:"primary",size:"large",onClick:Object(W.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,x(N,P,k,A,$);case 3:O(!1),a.push("/enfermeiros");case 5:case"end":return e.stop()}}),e)}))),children:Object(b.jsx)("p",{className:"reset-a",children:"Cadastrar Enfermeiro"})})]})})]})})})),H=a(96);function Z(e,t,a,n,c,r,o){var s={doenca:e,fabricante:t,dose:a,lote:n,quantidade:c,prazoMaximoEntreDoses:r,tempoTotalProtecao:o};H.post("https://us-central1-vacinapp-1.cloudfunctions.net/server/api/vacinas",s).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}a(687);var $=Object(h.a)({input:{borderRadius:10}})((function(e){var t=e.classes,a=Object(d.f)(),r=Object(n.useContext)(l).token,o=Object(n.useState)(!1),i=Object(s.a)(o,2),j=i[0],O=i[1],h=Object(n.useState)(""),g=Object(s.a)(h,2),x=g[0],S=g[1],N=Object(n.useState)(""),C=Object(s.a)(N,2),y=C[0],E=C[1],P=Object(n.useState)(""),T=Object(s.a)(P,2),R=T[0],I=T[1],k=Object(n.useState)(""),z=Object(s.a)(k,2),D=z[0],w=z[1],A=Object(n.useState)(""),B=Object(s.a)(A,2),M=B[0],F=B[1],V=Object(n.useState)(""),Q=Object(s.a)(V,2),U=Q[0],_=Q[1],H=Object(n.useState)(""),$=Object(s.a)(H,2),G=$[0],K=$[1],X=Object(n.useState)(!1),Y=Object(s.a)(X,2),ee=Y[0],te=Y[1],ae=Object(n.useState)({doenca:!1,dose:!1,lote:!1,quantidade:!1,prazoMaximoEntreDoses:!1,tempoTotalProtecao:!1}),ne=Object(s.a)(ae,2),ce=ne[0],re=ne[1],oe=Object(n.useState)({doenca:!1,dose:!1,lote:!1,quantidade:!1,prazoMaximoEntreDoses:!1,tempoTotalProtecao:!1}),se=Object(s.a)(oe,2),ie=se[0],le=se[1];Object(n.useEffect)((function(){u(r).then((function(e){403===e&&a.push("/")}))}),[]);var je=function(e){for(var t=0,a=Object.entries(e);t<a.length;t++){var n=Object(s.a)(a[t],2);n[0];if(!n[1])return void te(!1)}te(!0)},ue=Object(m.a)({palette:{primary:{main:"#5CCFE6"}},spacing:8});return Object(b.jsx)("div",{className:"container-cadastro",children:j?Object(b.jsx)(q,{}):Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsx)("h2",{className:"titulo-cadastro",children:"Cadastrar Vacina"}),Object(b.jsx)(p.a,{theme:ue,children:Object(b.jsxs)("form",{className:"formulario-cadastro",children:[Object(b.jsx)(f.a,{label:"Doen\xe7a",id:"doenca",helperText:"Ex.: Covid19, Febre Amarela, HPV",variant:"outlined",margin:"normal",error:ce.doenca,InputProps:{className:t.input},onChange:function(e){var t=e.target.value.trim();S(t),function(e){e.length>0?(le(Object(J.a)(Object(J.a)({},ie),{},{doenca:!0})),je(Object(J.a)(Object(J.a)({},ie),{},{doenca:!0}))):(le(Object(J.a)(Object(J.a)({},ie),{},{doenca:!1})),je(Object(J.a)(Object(J.a)({},ie),{},{doenca:!1})))}(t)},onBlur:function(){re(Object(J.a)(Object(J.a)({},ce),{},{doenca:!ie.doenca}))}}),Object(b.jsx)(f.a,{label:"Fabricante",id:"fabricante",type:"text",helperText:"Ex.: CoronaVac, ",variant:"outlined",margin:"normal",InputProps:{className:t.input},onChange:function(e){var t=e.target.value.trim();E(t)}}),Object(b.jsx)(f.a,{label:"Doses",id:"doses",helperText:"Quantidade de doses que s\xe3o necess\xe1rias para o paciente tomar.",error:ce.dose,type:"number",variant:"outlined",margin:"normal",InputProps:{className:t.input},onChange:function(e){var t=e.target.value.trim();I(t),function(e){e>0?(le(Object(J.a)(Object(J.a)({},ie),{},{dose:!0})),je(Object(J.a)(Object(J.a)({},ie),{},{dose:!0}))):(le(Object(J.a)(Object(J.a)({},ie),{},{dose:!1})),je(Object(J.a)(Object(J.a)({},ie),{},{dose:!1})))}(t)},onBlur:function(){re(Object(J.a)(Object(J.a)({},ce),{},{dose:!ie.dose}))}}),Object(b.jsxs)("div",{className:"lote-info",children:[Object(b.jsx)(f.a,{label:"Lote",id:"lote",variant:"outlined",margin:"normal",type:"text",helperText:"C\xf3digo de lote das vacinas",error:ce.lote,style:{marginRight:12},InputProps:{className:t.input},fullWidth:!0,onChange:function(e){var t=e.target.value.trim();w(t),function(e){e.length>0?(le(Object(J.a)(Object(J.a)({},ie),{},{lote:!0})),je(Object(J.a)(Object(J.a)({},ie),{},{lote:!0}))):(le(Object(J.a)(Object(J.a)({},ie),{},{lote:!1})),je(Object(J.a)(Object(J.a)({},ie),{},{lote:!1})))}(t)},onBlur:function(){re(Object(J.a)(Object(J.a)({},ce),{},{lote:!ie.lote}))}}),Object(b.jsx)(f.a,{label:"Quantidade",id:"quantidade",variant:"outlined",margin:"normal",type:"number",helperText:"Quantidade de vacinas que vieram no lote",error:ce.quantidade,style:{marginLeft:12},InputProps:{className:t.input},fullWidth:!0,onChange:function(e){var t=e.target.value.trim();F(t),function(e){e>0?(le(Object(J.a)(Object(J.a)({},ie),{},{quantidade:!0})),je(Object(J.a)(Object(J.a)({},ie),{},{quantidade:!0}))):(le(Object(J.a)(Object(J.a)({},ie),{},{quantidade:!1})),je(Object(J.a)(Object(J.a)({},ie),{},{quantidade:!1})))}(t)},onBlur:function(){re(Object(J.a)(Object(J.a)({},ce),{},{quantidade:!ie.quantidade}))}})]}),Object(b.jsxs)("div",{className:"lote-info",children:[Object(b.jsx)(f.a,{label:"Tempo max. entre doses",id:"lote",variant:"outlined",margin:"normal",type:"number",helperText:"Em dias",error:ce.prazoMaximoEntreDoses,style:{marginRight:12},InputProps:{className:t.input},fullWidth:!0,onChange:function(e){var t=e.target.value.trim();_(t),function(e){e>0?(le(Object(J.a)(Object(J.a)({},ie),{},{prazoMaximoEntreDoses:!0})),je(Object(J.a)(Object(J.a)({},ie),{},{prazoMaximoEntreDoses:!0}))):(le(Object(J.a)(Object(J.a)({},ie),{},{prazoMaximoEntreDoses:!1})),je(Object(J.a)(Object(J.a)({},ie),{},{prazoMaximoEntreDoses:!1})))}(t)},onBlur:function(){re(Object(J.a)(Object(J.a)({},ce),{},{prazoMaximoEntreDoses:!ie.prazoMaximoEntreDoses}))}}),Object(b.jsx)(f.a,{label:"Tempo total de prote\xe7\xe3o",id:"quantidade",variant:"outlined",margin:"normal",type:"number",helperText:"Em meses",error:ce.tempoTotalProtecao,style:{marginLeft:12},InputProps:{className:t.input},fullWidth:!0,onChange:function(e){var t=e.target.value.trim();K(t),function(e){e>0?(le(Object(J.a)(Object(J.a)({},ie),{},{tempoTotalProtecao:!0})),je(Object(J.a)(Object(J.a)({},ie),{},{tempoTotalProtecao:!0}))):(le(Object(J.a)(Object(J.a)({},ie),{},{tempoTotalProtecao:!1})),je(Object(J.a)(Object(J.a)({},ie),{},{tempoTotalProtecao:!1})))}(t)},onBlur:function(){re(Object(J.a)(Object(J.a)({},ce),{},{tempoTotalProtecao:!ie.tempoTotalProtecao}))}})]}),Object(b.jsx)(v.a,{disabled:!ee,variant:"contained",color:"primary",size:"large",onClick:Object(W.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,Z(x,y,R,D,M,U,G);case 3:O(!1),a.push("/vacinas");case 5:case"end":return e.stop()}}),e)}))),children:Object(b.jsx)("p",{className:"reset-a",children:"Cadastrar Vacina"})})]})})]})})})),G=a(402),K=a(403),X=a.n(K),Y=a(404),ee=a.n(Y),te=a(735),ae=a(96);var ne=a(405),ce=a(96);a(704);var re=Object(h.a)({input:{borderRadius:10}})((function(e){var t=e.classes,a=Object(d.f)(),c=Object(n.useState)({}),r=Object(s.a)(c,2),o=r[0],i=r[1],j=Object(n.useState)({}),O=Object(s.a)(j,2),h=O[0],g=O[1],x=Object(n.useState)({}),S=Object(s.a)(x,2),N=S[0],C=S[1],y=Object(n.useState)([]),E=Object(s.a)(y,2),P=E[0],T=E[1],R=Object(n.useState)([]),I=Object(s.a)(R,2),k=I[0],z=I[1],D=Object(n.useState)([]),w=Object(s.a)(D,2),A=(w[0],w[1],Object(n.useState)(!1)),B=Object(s.a)(A,2),q=B[0],M=B[1],F=Object(n.useState)(""),V=Object(s.a)(F,2),L=V[0],W=V[1],Q=Object(n.useState)(""),U=Object(s.a)(Q,2),_=U[0],Z=U[1],$=Object(n.useState)(!1),K=Object(s.a)($,2),Y=K[0],re=K[1],oe=Object(n.useState)({vacina:!1,paciente:!1,dataRetorno:!1}),se=Object(s.a)(oe,2),ie=(se[0],se[1],Object(n.useState)({vacina:!1,paciente:!1,dataRetorno:!1})),le=Object(s.a)(ie,2),je=le[0],ue=le[1],be=Object(n.useContext)(l).token,Oe=Object(n.useState)(!1),de=Object(s.a)(Oe,2);de[0],de[1],Object(n.useEffect)((function(){u(be).then((function(e){403===e&&a.push("/")})),H.get("https://us-central1-vacinapp-1.cloudfunctions.net/server/api/vacinas").then((function(e){return e.data})).catch((function(e){return e})).then((function(e){var t,a=[],n=Object(G.a)(e);try{for(n.s();!(t=n.n()).done;){var c=t.value;c.quantidade>0&&a.push(c)}}catch(r){n.e(r)}finally{n.f()}T(a)})),ae.get("https://us-central1-vacinapp-1.cloudfunctions.net/server/api/pacientes").then((function(e){return e.data})).catch((function(e){return e})).then((function(e){z(e)}))}),[]);var me=function(e){for(var t=0,a=Object.entries(e);t<a.length;t++){var n=Object(s.a)(a[t],2);n[0];if(!n[1])return void re(!1)}re(!0)},pe=Object(m.a)({palette:{primary:{main:"#5CCFE6"}},spacing:8});return Object(b.jsxs)("div",{className:"container-cadastro",children:[Object(b.jsxs)(X.a,{isOpen:q,onRequestClose:function(){return M(!1)},style:{overlay:{zIndex:999,backgroundColor:"rgba(0, 0, 0, 0.45)"},content:{display:"flex",flexDirection:"column",justifyContent:"space-around",width:500,height:500,alignItems:"center",margin:"auto"}},children:[Object(b.jsx)("h2",{children:_}),L&&Object(b.jsx)(ee.a,{value:L,size:450,level:"H",includeMargin:!0})]}),Object(b.jsx)("h2",{className:"titulo-cadastro",children:"Vacinar"}),Object(b.jsx)(p.a,{theme:pe,children:Object(b.jsxs)("form",{className:"formulario-cadastro",children:[Object(b.jsx)(te.a,{options:P,getOptionLabel:function(e){return"".concat(e.doenca," - ").concat(e.fabricante," - ").concat(e.lote)},variant:"contained",onChange:function(e,t){P.includes(t)?(i(t),ue(Object(J.a)(Object(J.a)({},je),{},{vacina:!0})),me(Object(J.a)(Object(J.a)({},je),{},{vacina:!0}))):(ue(Object(J.a)(Object(J.a)({},je),{},{vacina:!1})),me(Object(J.a)(Object(J.a)({},je),{},{vacina:!1})))},renderInput:function(e){return Object(b.jsx)(f.a,Object(J.a)(Object(J.a)({},e),{},{label:"Vacina",margin:"normal",variant:"outlined",InputProps:Object(J.a)(Object(J.a)({},e.InputProps),{},{className:t.input})}))}}),Object(b.jsx)(te.a,{options:k,getOptionLabel:function(e){return"".concat(e.nome," ").concat(e.cpf)},variant:"contained",onChange:function(e,t){k.includes(t)?(g(t),ue(Object(J.a)(Object(J.a)({},je),{},{paciente:!0})),me(Object(J.a)(Object(J.a)({},je),{},{paciente:!0}))):(ue(Object(J.a)(Object(J.a)({},je),{},{paciente:!1})),me(Object(J.a)(Object(J.a)({},je),{},{paciente:!1})))},renderInput:function(e){return Object(b.jsx)(f.a,Object(J.a)(Object(J.a)({},e),{},{label:"Paciente",margin:"normal",variant:"outlined",InputProps:Object(J.a)(Object(J.a)({},e.InputProps),{},{className:t.input})}))}}),Object(b.jsx)(f.a,{label:"Data de Retorno",id:"tipo",type:"text",variant:"outlined",margin:"normal",InputProps:{className:t.input},onChange:function(e){var t=e.target.value.trim();C(t),function(e){/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(e)?(ue(Object(J.a)(Object(J.a)({},je),{},{dataRetorno:!0})),me(Object(J.a)(Object(J.a)({},je),{},{dataRetorno:!0}))):(ue(Object(J.a)(Object(J.a)({},je),{},{dataRetorno:!1})),me(Object(J.a)(Object(J.a)({},je),{},{dataRetorno:!1})))}(t)}}),Object(b.jsx)(v.a,{disabled:!Y,variant:"contained",color:"primary",size:"large",style:{marginTop:8},onClick:function(){console.log("Chamando"),function(e,t,a,n){var c=Object(ne.a)(n),r={paciente:t._id,doenca:e.doenca,doses:e.dose,vacina:{fabricante:e.fabricante,lote:e.lote,enfermeiroNome:c.nome,enfermeiroCoren:c.coren,concluido:!1},dataRetorno:a,prazoMaximoEntreDoses:e.prazoMaximoEntreDoses,tempoTotalProtecao:e.tempoTotalProtecao};return console.log(r),ce.post("https://us-central1-vacinapp-1.cloudfunctions.net/server/api/vacinacao",r,{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){return e.data})).catch((function(e){return e.response.data}))}(o,h,N,be).then((function(e){"id"in e?(Z(e.mensagem),W("".concat(e.id," ").concat(e.dose))):(Z(e.mensagem),W("")),M(!0)}))},children:Object(b.jsx)("p",{className:"reset-a",children:"Vacinar"})})]})})]})})),oe=a(194),se=a.n(oe),ie={};try{if(!window.localStorage)throw Error("no local storage");ie.set=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},ie.get=function(e){var t=localStorage.getItem(e);try{return JSON.parse(t)}catch(a){return null}},ie.remove=function(e){return localStorage.removeItem(e)}}catch(be){ie.set=se.a.set,ie.get=se.a.getJSON,ie.remove=se.a.remove}var le=ie;var je=function(e){var t=e.children,a=function(e){var t=Object(n.useState)((function(){return le.get(e)})),a=Object(s.a)(t,2),c=a[0],r=a[1];return[c,Object(n.useCallback)((function(t){le.set(e,t),r(t)}),[e]),Object(n.useCallback)((function(){le.remove(e),r(void 0)}),[e])]}("token"),c=Object(s.a)(a,2),r=c[0],o=c[1];return Object(b.jsx)(l.Provider,{value:{token:r,setToken:o},children:t})};a(705);var ue=function(){return Object(b.jsx)("section",{className:"content",children:Object(b.jsx)(i.a,{children:Object(b.jsxs)(je,{children:[Object(b.jsx)(O,{}),Object(b.jsxs)(d.c,{children:[Object(b.jsx)(d.a,{exact:!0,path:"/",children:Object(b.jsx)(E,{})}),Object(b.jsx)(d.a,{exact:!0,path:"/pacientes",children:Object(b.jsx)(F,{tabela:"pacientes"})}),Object(b.jsx)(d.a,{exact:!0,path:"/enfermeiros",children:Object(b.jsx)(F,{tabela:"enfermeiros"})}),Object(b.jsx)(d.a,{path:"/enfermeiros/cadastrar",children:Object(b.jsx)(_,{})}),Object(b.jsx)(d.a,{exact:!0,path:"/vacinas",children:Object(b.jsx)(F,{tabela:"vacinas"})}),Object(b.jsx)(d.a,{path:"/vacinas/cadastrar",children:Object(b.jsx)($,{})}),Object(b.jsx)(d.a,{path:"/vacinacao/cadastrar",children:Object(b.jsx)(re,{})}),Object(b.jsx)(d.a,{path:"*",children:Object(b.jsx)("h2",{children:"404"})})]})]})})})};o.a.render(Object(b.jsx)(c.a.Fragment,{children:Object(b.jsx)(ue,{})}),document.getElementById("root"))}},[[706,1,2]]]);
//# sourceMappingURL=main.b3e6611a.chunk.js.map